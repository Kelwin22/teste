<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rito - Penhora</title>
    <link rel ="stylesheet" href="../css/stylepenhora.css">
</head>
<body>
    <header>
        <h1>Rito - Penhora</h1>
    </header>
    <div class="container">
        <h2>Formulário de Detalhes</h2>
        <form action="./peticaoAlimentos.html">
            <!-- DADOS DO Menor -->
            <h2> Dados do Menor</h2>
            <div class="form-group full-width">
                <label for="NomeMenor">Nome Completo do Menor:</label>
                <input type="text" id="NomeMenor" name="NomeMenor" required>
            </div>
            <div class="form-group full-width">
                <label for="data_nascimento">Data de Nascimento:</label>
                <input type="date" id="data_nascimento" name="data_nascimento" required>
            </div>
            <div class="form-group">
                <label for="cpfMenor">CPF do Menor:</label>
                <input type="text" id="cpfMenor" name="cpfMenor" required>
            </div>
            <div class="form-group">
                <label for="rgMenor">RG do Menor:</label>
                <input type="text" id="rgMenor" name="rgMenor" required>
            </div>
            <!--DADOS DO Representante -->
            <h2> Dados do Representante</h2>
            <div class="form-group full-width">
                <label for="NomeRepresentante">Nome Completo do Representante Legal:</label>
                <input type="text" id="NomeRepresentante" name="NomeRepresentante" required>
            </div>
            <div class="form-group">
            <label for="estCivilR">Estado Civil do Representante Legal:</label>
            <select name="estCivilR" id="estCivilR">
              <option value="solteiro">Solteiro(a)</option>
              <option value="casado">Casado(a)</option>
              <option value="divorciado">Divorciado(a)</option>
              <option value="viuvo">Viúvo(a)</option>
            </select>
            </div>
            <div class="form-group">
                <label for="profissao">Profissão do Representante Legal:</label>
                <input type="text" id="profissao" name="profissao" required>
            </div>
            <div class="form-group">
                <label for="endereco">Endereço Completo do Representante:</label>
                <input type="text" id="endereco" name="endereco" required>
            </div>
        
            <div class="form-group">
                <label for="cidade">Cidade:</label>
                <input type="text" id="cidade" name="cidade" required>
            </div>
            <div class="form-group">
                <label for="estado">Estado:</label>
                <input type="text" id="estado" name="estado" required>
            </div>
            <div class="form-group">
                <label for="cep">CEP:</label>
                <input type="text" id="cep" name="cep" required>
            </div>
            <div class="form-group">
                <label for="telefone">Telefone:</label>
                <input type="text" id="telefone" name="telefone" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <!--DADOS DO Advogado -->
            <h2> Dados do Advogado</h2>
            <div class="form-group full-width">
                <label for="NomeAdvg">Nome Completo do Advogado:</label>
                <input type="text" id="NomeAdvg" name="NomeAdvg" required>
            </div>
            <div class="form-group full-width">
                <label for="oab">OAB do Advogado:</label>
                <input type="text" id="oab" name="oab" required>
            </div>
            <!--DADOS DO Devedor -->
            <h2> Dados do Devedor</h2>
            <div class="form-group full-width">
                <label for="NomeDevedor">Nome Completo do Devedor:</label>
                <input type="text" id="NomeDevedor" name="NomeDevedor" required>
            </div>
            <div class="form-group">
                <label for="estCivilD">Estado Civil do Devedor:</label>
                <select name="estCivilD" id="estCivilD">
                  <option value="solteiro">Solteiro(a)</option>
                  <option value="casado">Casado(a)</option>
                  <option value="divorciado">Divorciado(a)</option>
                  <option value="viuvo">Viúvo(a)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="profissaoD">Profissão do Devedor:</label>
                <input type="text" id="profissaoD" name="profissaoD" required>
            </div>
            <div class="form-group">
                <label for="enderecoD">Endereço Completo do Devedor:</label>
                <input type="text" id="enderecoD" name="enderecoD" required>
            </div>
        
            <div class="form-group">
                <label for="cidadeD">Cidade:</label>
                <input type="text" id="cidadeD" name="cidadeD" required>
            </div>
            <div class="form-group">
                <label for="estadoD">Estado:</label>
                <input type="text" id="estadoD" name="estadoD" required>
            </div>
            <div class="form-group">
                <label for="cepD">CEP:</label>
                <input type="text" id="cepD" name="cepD" required>
            </div>
            <div class="form-group">
                <label for="telefoneD">Telefone:</label>
                <input type="text" id="telefoneD" name="telefoneD" required>
            </div>
            <div class="form-group">
                <label for="emailD">Email:</label>
                <input type="email" id="emailD" name="emailD" required>
            </div>
            <!-- DADOS DO Processo -->
            <div class="form-group full-width">
                <h2 style="text-align: left;">Dados do Processo</h2>
             
            </div>
            <div class="form-group">
                <label for="nProcesso">Número do Processo:</label>
                <input type="text" id="nProcesso" name="nProcesso" required>
            </div>
            <div class="form-group">
                <label for="percentual">Percentual:</label>
                <input type="text" id="percentual" name="percentual" required>
            </div>
            <div class="form-group">
                <label for="cobranca">Cobrado:</label>
                <select name="cobranca" id="cobranca">
                  <option value="SalMin">Sal. Mínimo</option>
                  <option value="renda">Renda</option>
                </select>
            </div>
            <div class="form-group">
                <label for="valor_pensao">Valor da Pensão:</label>
                <input type="number" id="valor_pensao" name="valor_pensao" required>
            </div>
            <input type="submit" value="Enviar">
        </form>

        <h2>Petição Gerada</h2>
        <textarea id="peticaoTexto" readonly></textarea>
    
        <div class="btn-group">
            <button onclick="salvarTxt()">Salvar como TXT</button>
            <button onclick="salvarPdf()">Salvar como PDF</button>
            <button onclick="imprimirPeticao()">Imprimir</button>
        </div>
    </div>
    
    <footer>
        <p>Defensoria Pública do Distrito Federal &copy; 2024</p>
    </footer>
    
    <script>
        function gerarPeticao() {
            const formData = {
            NomeMenor: document.getElementById('NomeMenor').value,
                data_nascimento: document.getElementById('data_nascimento').value,
                cpfMenor: document.getElementById('cpfMenor').value,
                rgMenor: document.getElementById('rgMenor').value,
                NomeRepresentante: document.getElementById('NomeRepresentante').value,
                estCivilR: document.getElementById('estCivilR').value,
                profissao: document.getElementById('profissao').value,
                endereco: document.getElementById('endereco').value,
                cidade: document.getElementById('cidade').value,
                estado: document.getElementById('estado').value,
                cep: document.getElementById('cep').value,
                telefone: document.getElementById('telefone').value,
                email: document.getElementById('email').value,
                NomeAdvg: document.getElementById('NomeAdvg').value,
                oab: document.getElementById('oab').value,
                NomeDevedor: document.getElementById('NomeDevedor').value,
                estCivilD: document.getElementById('estCivilD').value,
                profissaoD: document.getElementById('profissaoD').value,
                enderecoD: document.getElementById('enderecoD').value,
                cidadeD: document.getElementById('cidadeD').value,
                estadoD: document.getElementById('estadoD').value,
                cepD: document.getElementById('cepD').value,
                telefoneD: document.getElementById('telefoneD').value,
                emailD: document.getElementById('emailD').value,
                nProcesso: document.getElementById('nProcesso').value,
                percentual: document.getElementById('percentual').value,
                cobranca: document.getElementById('cobranca').value,
                valor_pensao: document.getElementById('valor_pensao').value
                }

            const peticao = `
           Modelo de Petição Inicial de Pensão Alimentícia

           EXCELENTÍSSIMO(A) SENHOR(A) DOUTOR(A) JUIZ(A) DE DIREITO DA _ VARA DE FAMILIA DA COMARCA DE __ .
        
           ${}, menor impúnere, neste ato representado por sua genitora [Nome completo da mãe ou responsável], residente e domiciliada à [endereço completo], por intermédio de seu advogado, vem, respeitosamente, à presença de Vossa Excelência, propor a presente
            
           Ação de Alimentos

           em face de [Nome do réu], residente e domiciliado à [endereço completo], pelos fatos e fundamentos a seguir expostos:

           1) O requerente é filho do réu, conforme certidão de nascimento em anexo.
           2) O requerente depende financeiramente do réu para sua subsistência.
           3) O requerido possui capacidade financeira para contribuir com o sustento do menor.

            Diante do exposto requer:
        a) A citação do réu para comparecimento à audiência de conciliação;
        b) A fixação de alimentos provisórios no valor de [valor];
        c) A condenação do réu ao pagamento de pensão alimentícia definitiva;
        
        Nestes termos, Pede deferimento.
        Local, data
        Assinatura do advogado Nome e OAB


            
            `;
    
            document.getElementById('peticaoTexto').value = peticao;
        }
    
        function salvarTxt() {
            function salvarDocx() {
            const peticao = document.getElementById('peticaoTexto').value;

            const doc = new docx.Document({
                sections: [{
                    properties: {},
                    children: [
                        new docx.Paragraph({
                            text: peticao,
                        }),
                    ],
                }],
            });

            // Gerar o documento e baixar
            docx.Packer.toBlob(doc).then(blob => {
                const link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = "peticao.docx";
                link.click();
            });
        }
    
        function salvarPdf() {
            const peticao = document.getElementById('peticaoTexto').value;
            const link = document.createElement("a");
            link.href = `data:application/pdf;base64,${btoa(peticao)}`;
            link.download = "peticao.pdf";
            link.click();
        }
    
        function imprimirPeticao() {
            const peticao = document.getElementById('peticaoTexto').value;
            const printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write('<pre>' + peticao + '</pre>');
            printWindow.document.close();
            printWindow.print();
        }
    </script>

</body>
</html>
